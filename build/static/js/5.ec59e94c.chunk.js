(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{583:function(t,e,a){"use strict";a.r(e);var s=a(45),n=a(55),r=a(57),l=a(56),o=a(58),i=a(0),c=a.n(i),u=a(319),d=a(559),p=a(579),h=a.n(p),m=a(37),y=a.n(m),f=a(158),w={dataReady:!1,clusters:{},dataset:""},E=function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(r.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(o)))).state=w,a.createDataPoints=function(){var t=[],e=y.a.groupBy(a.props.modulesData.cells,"cluster_id"),s=a.props.annotation;return Object.keys(e).forEach(function(a){var n=s[a].description,r={x:y.a.map(e[a],"tsne_1"),y:y.a.map(e[a],"tsne_2"),mode:"markers",type:"scattergl",name:n,text:y.a.map(e[a],"cluster_id"),hovertemplate:"<b>Cluster %{text}, Cell type: ".concat(n,"</b> <extra></extra>"),opacity:.5};t.push(r)}),t},a.renderGenePlot=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(h.a,{className:"full-size large",data:a.createDataPoints(),layout:{height:600,hovermode:"closest",yaxis:{title:"tSNE_2",showgrid:!1,zeroline:!1},xaxis:{title:"tSNE_1",showgrid:!1,zeroline:!1}}}))},a}return Object(o.a)(e,t),Object(n.a)(e,[{key:"shouldComponentUpdate",value:function(t,e,a){return this.state.ds!==this.props.dataset||!this.state.dataReady&&e.dataReady}},{key:"render",value:function(){return(y.a.isEmpty(this.state.clusters)||this.state.ds!==this.props.dataset)&&(this.setState({clusters:y.a.mapValues(y.a.keyBy(y.a.values(this.props.collection),"cluster_id"),"annotation")}),this.setState({ds:this.props.dataset})),this.props.modulesData.cells.length<1?c.a.createElement(f.a,{frame:!0}):(this.state.dataReady||this.setState({dataReady:!0}),c.a.createElement(c.a.Fragment,null,c.a.createElement(u.a.Row,null,c.a.createElement(u.a.Column,{width:16},c.a.createElement(d.a,null,this.renderGenePlot())))))}}]),e}(i.Component);e.default=E}}]);
//# sourceMappingURL=5.ec59e94c.chunk.js.map