(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{581:function(e,t,a){"use strict";a.r(t);var n=a(45),r=a(55),s=a(57),l=a(56),o=a(58),c=a(0),i=a.n(c),u=a(317),d=a(561),p=a(319),m=a.n(p),h=a(39),y=a.n(h),f=a(157),v={dataReady:!1,clusters:{}},w=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state=v,a.createDataPoints=function(){var e=[],t=y.a.groupBy(a.props.modulesData.cells,"cluster_id");return Object.keys(t).forEach(function(n){var r=a.state.clusters[n],s={x:y.a.map(t[n],"tsne_1"),y:y.a.map(t[n],"tsne_2"),mode:"markers",type:"scattergl",name:r,text:y.a.map(t[n],"cluster_id"),hovertemplate:"<b>Cluster %{text}, Cell type: ".concat(r,"</b> <extra></extra>"),opacity:.5};e.push(s)}),e},a.renderGenePlot=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(m.a,{className:"full-size large",data:a.createDataPoints(),layout:{height:600,hovermode:"closest",yaxis:{title:"test",showgrid:!1,zeroline:!1},xaxis:{title:"test",showgrid:!1,zeroline:!1}}}))},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"shouldComponentUpdate",value:function(e,t,a){return!this.state.dataReady&&t.dataReady}},{key:"componentDidMount",value:function(){y.a.isEmpty(this.state.clusters)&&this.setState({clusters:y.a.mapValues(y.a.keyBy(y.a.values(this.props.collection),"cluster_id"),"annotation")})}},{key:"render",value:function(){return this.props.modulesData.cells.length<1?i.a.createElement(f.a,{frame:!0}):(this.state.dataReady||this.setState({dataReady:!0}),i.a.createElement(i.a.Fragment,null,i.a.createElement(u.a.Row,null,i.a.createElement(u.a.Column,{width:16},i.a.createElement(d.a,null,this.renderGenePlot())))))}}]),t}(c.Component);t.default=w}}]);
//# sourceMappingURL=4.ea57b868.chunk.js.map