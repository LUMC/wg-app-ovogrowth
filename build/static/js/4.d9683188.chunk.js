(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{582:function(t,e,a){"use strict";a.r(e);var s=a(45),n=a(55),r=a(57),l=a(56),o=a(58),c=a(0),i=a.n(c),u=a(318),d=a(562),p=a(320),h=a.n(p),m=a(39),y=a.n(m),f=a(157),g={dataReady:!1,clusters:{},dataset:""},w=function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(r.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(o)))).state=g,a.createDataPoints=function(){var t=[],e=y.a.groupBy(a.props.modulesData.cells,"cluster_id");return Object.keys(e).forEach(function(s){var n=a.state.clusters[s],r={x:y.a.map(e[s],"tsne_1"),y:y.a.map(e[s],"tsne_2"),mode:"markers",type:"scattergl",name:n,text:y.a.map(e[s],"cluster_id"),hovertemplate:"<b>Cluster %{text}, Cell type: ".concat(n,"</b> <extra></extra>"),opacity:.5};t.push(r)}),t},a.renderGenePlot=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(h.a,{className:"full-size large",data:a.createDataPoints(),layout:{height:600,hovermode:"closest",yaxis:{title:"test",showgrid:!1,zeroline:!1},xaxis:{title:"test",showgrid:!1,zeroline:!1}}}))},a}return Object(o.a)(e,t),Object(n.a)(e,[{key:"shouldComponentUpdate",value:function(t,e,a){return this.state.ds!==this.props.dataset||!this.state.dataReady&&e.dataReady}},{key:"render",value:function(){return console.log(this.props.modulesData.cells),(y.a.isEmpty(this.state.clusters)||this.state.ds!==this.props.dataset)&&(this.setState({clusters:y.a.mapValues(y.a.keyBy(y.a.values(this.props.collection),"cluster_id"),"annotation")}),this.setState({ds:this.props.dataset})),this.props.modulesData.cells.length<1?i.a.createElement(f.a,{frame:!0}):(this.state.dataReady||this.setState({dataReady:!0}),i.a.createElement(i.a.Fragment,null,i.a.createElement(u.a.Row,null,i.a.createElement(u.a.Column,{width:16},i.a.createElement(d.a,null,this.renderGenePlot())))))}}]),e}(c.Component);e.default=w}}]);
//# sourceMappingURL=4.d9683188.chunk.js.map